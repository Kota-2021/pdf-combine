# PDF Combine

このツールは、特定のディレクトリ内にあるPDFファイルを、ファイル名のパターンに基づいて自動的にグループ分けし、それぞれを1つのPDFに結合するコマンドラインツールです。

銀行のインターネットバンキングより、口座の入出金明細をFPD出力すると、複数ファイルになってしまいます。それをまとめるために作ってみました。

## 特徴

- **自動グループ分け**: ファイル名の「最後のハイフン（`-`）」より前の文字列をグループキーとして認識します。
    
- **ソート機能**: グループ内のファイルは名前順にソートされて結合されます。
    
- **一括処理**: 複数のグループが存在する場合、順次すべての結合ファイルを生成します。
    

## 動作イメージ

`./pdf` フォルダに以下のファイルがある場合：

- `invoice-A-1.pdf`
    
- `invoice-A-2.pdf`
    
- `invoice-B-1.pdf`
    

実行すると、以下のファイルが生成されます：

- `invoice-A-mix.pdf` (1と2を結合)
    
- `invoice-B-mix.pdf`
    

## セットアップ

### 1. 依存関係のインストール

本プロジェクトは [pdfcpu](https://github.com/pdfcpu/pdfcpu) ライブラリを使用しています。

Bash

```
go mod init pdf-merger
go mod tidy
```

### 2. 実行方法

`pdf` という名前のディレクトリを作成し、その中に結合したいPDFファイルを配置してください。

Bash

```
go run main.go
```

### 3. ビルド（実行ファイルの作成）

Bash

```
go build -o pdf-merger
```

## ディレクトリ構成

Plaintext

```
.
├── main.go
├── pdf/           # 結合したいPDFをここに入れる
│   ├── group1-01.pdf
│   ├── group1-02.pdf
│   └── group2-01.pdf
└── (merged files will be generated here)
```

## 注意事項

- ファイル名にハイフン（`-`）が含まれないファイルは無視されます。
    
- 出力ファイル名は `グループ名-mix.pdf` となります。